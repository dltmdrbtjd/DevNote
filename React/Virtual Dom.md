## Virtual Dom (가상 돔)
- Virtual DOM은 UI의 이상적인 또는 '가상'적인 표현을 메모리에 저장하고 ReactDOM과 같은 라이브러리에 의해 '실제' DOM과 동기화하는 프로그래밍 개념이다. 이 과정을 재조정이라고 한다. 이 접근방식이 React의 선언적 API를 가능하게 한다. React에게 원하는 UI의 상태를 알려주면 DOM이 그상태와 일치하도록 한다. 이러한 방식은 앱 구축에 사용해야 하는 어트리뷰트 조작, 이벤트 처리, 수동 DOM 업데이트를 추상화한다.
- Virtual DOM은 특정 기술이라기보다는 패턴에 가깝기 때문에 사람들마다 의미하는 바가 다르다. React의 세계에서 'Virtual DOM'이라는 용어는 보통 사용자 인터페이스를 나타내는 객체이기 때문에 React elements와 연관된다. 그러나 React는 컴포넌트 트리에 대한 추가 정보를 포함하기 위해 'fibres'라는 내부 객체를 사용한다. 또한 React에서 'Virtual DOM'구현의 일부로 간주할 수 있다.
- UI렌더링이 이루어지는 과정은 HTML을 전달받으면 DOM Tree를 생성하고 외부 css 파일과 각 엘리먼트의 inline스타일을 파싱한다. 스타일 정보를 사용하여 DOM트리에 따라 새로운 트리 , 렌더트리를 만든다. 렌더트리가 만들어지고 나면 레이아웃 과정을 거쳐서 각 노드들은 스크린의 좌표가 주어지고 정확히 어디에 나타나야 할지 위치가 주어진다. 그 다음 작업은 렌더링 된 요소들에 색을 입히는 과정에서 트리의 각 노드들을 거쳐가면서 paint()메소드를 호출한다. 이렇게 DOM이 조작했을때 렌더트리를 생성하고 레이아웃을 만들고 페인팅하는 과정이 다시 반복된다.
<p align=center>
  <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FT5rHO%2FbtqFKMnUs3l%2FXVAUWZSNdiwYMRZaELOhKK%2Fimg.png" />
</p>

- 요즘 같이 SPA가 대세인 웹앱 같은 경우 단일 페이지에서 인터렉션이 빈번히 일어나게 되고 DOM조작이 많이 발생한다. 그러면 브라우저가 많이 연산을 해야하고 전체적인 프로세스를 비효율적으로 만든다. 여기서 가상돔은 뷰에 변화가 발생하면 DOM에 적용되기 전에 가상돔에 먼저 적용시키고 그 최종적인 결과를 실제 DOM으로 전달해줘서 브라우저 내에서 발생하는 연산의 양이 줄이면서 성능이 개선된다. 여러번의 렌더링이 발생되지 않고 딱 한 번만 DOM에 리렌더링을 발생시킨다.
